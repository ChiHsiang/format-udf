language: bash

sudo: required

before_install:
  - sudo apt-get -qq update
  - sudo apt-get install -y udftools coreutils vim-common
  
addons:
  apt:
    sources:
    - debian-sid    # Grab ShellCheck from the Debian repo
    packages:
    - shellcheck

install:
 - pip install --user bashate

script:
 - bash -c 'shopt -s globstar; shellcheck **/*.sh'
 - bash -c 'shopt -s globstar; bashate **/*.sh'
 - ./format-udf.sh -v
 - ./format-udf.sh -h
 - ./unit-test.sh

matrix:
  fast_finish: true
